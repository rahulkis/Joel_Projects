"use strict";(self.webpackChunkfl_assistant=self.webpackChunkfl_assistant||[]).push([[752],{4014:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var n=a(7462),l=a(7363),s=a.n(l),r=a(6711),c=a(4533),o=a(122),i=a(8003),m=a(9818);const d=e=>{let{onClick:t=(()=>{})}=e;const{searchHistory:a}=(0,m.useSystemState)("searchHistory"),{resetSearchHistory:n}=(0,m.getSystemActions)();return 0<a.length&&s().createElement("div",{className:"fl-asst-home-search-suggestions"},s().createElement("div",{style:{marginBottom:10}},(0,i.__)("Recent Searches")),s().createElement("div",null,a.map((e=>s().createElement("span",{key:e,className:"fl-asst-home-search-item"},s().createElement(c.Button,{onClick:()=>t(e)},e),s().createElement(c.Button,{onClick:()=>(e=>{n(a.filter((t=>t!==e)))})(e)},s().createElement(c.Icon.CloseCompact,null)))))))},u=()=>{},p=e=>{let{onClick:t=(()=>{})}=e;const{appearance:a}=(0,m.useSystemState)("appearance"),{setBrightness:n}=(0,m.getSystemActions)();return s().createElement(c.Menu.Item,{onClick:e=>{n("dark"===a.brightness?"light":"dark"),t(e.nativeEvent)}},"dark"===a.brightness?(0,i.__)("Light Color Scheme"):(0,i.__)("Dark Color Scheme"))},h=()=>{const[e,t]=(0,l.useState)(!1),a=()=>s().createElement(s().Fragment,null,s().createElement(p,{onClick:()=>t(!1)}));return s().createElement(c.Menu,{content:s().createElement(a,null),isShowing:e,onOutsideClick:()=>t(!1),style:{zIndex:9}},s().createElement(c.Button,{appearance:"transparent",shape:"round",style:{width:40,height:40},onClick:()=>t(!e)},s().createElement(c.Icon.More,null)))},g=e=>{let{onFocus:t=u,onClear:a=u,onInput:n=u,onSuggestionClick:r=u,keyword:o=""}=e;const[p,g]=(0,l.useState)(!1),[E,f]=(0,l.useState)(!1),{adminURLs:y}=(0,m.getSystemConfig)(),b=()=>s().createElement("span",{className:"search-icon-wrapper"},s().createElement(c.Icon.Search,null)),v=()=>s().createElement(c.Button,{appearance:"transparent",className:"fl-asst-home-search-clear",onClick:()=>{g(!1),a()}},s().createElement(c.Icon.BackArrow,null));return s().createElement(s().Fragment,null,s().createElement("div",{className:"fl-asst-home-search-header fluid-sticky-element"},s().createElement(c.Form.Input,{className:"fl-asst-inset-element",before:""!==o?s().createElement(v,null):s().createElement(b,null),value:o,placeholder:(0,i.__)("Search WordPress"),onInput:e=>{n(e.target.value),""===e.target.value&&a()},onFocus:()=>{g(!0),t()},onChange:()=>{}}),s().createElement(c.Button,{appearance:"transparent",href:y.dashboard,shape:"round",target:"_blank",style:{width:40,height:40}},s().createElement(c.Icon.WordPress,null)),s().createElement(h,null)),(""!==o||p)&&s().createElement(d,{onClick:r}),E&&s().createElement(c.Widget.Library,{onClose:()=>f(!1)}))},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{apps:t}=(0,m.getSystemStore)().getState(),a=[],n=[],l=[],s={priority:1e3,format:e=>e},{keyword:r,number:c,offset:i}=Object.assign({keyword:"",number:5,offset:0},e),d=e=>{const t=(0,o.addLeadingSlash)(e.route(r,c,i)),n=Object.assign({},s,e),{priority:l}=n;a[l]||(a[l]=[]),a[l].push({route:t,config:n})};return Object.entries(t).map((e=>{const t=e[1];t.search&&(Array.isArray(t.search)?t.search.map((e=>d(e))):d(t.search))})),a.map((e=>{e.map((e=>{l.push(e.route),n.push(e.config)}))})),{config:n,routes:l}},f=e=>{let{item:t,defaultProps:a,config:n,baseURL:l}=e;const{configKey:s}=t,{detail:r}=n[s];let c={...a};return c.shouldAlwaysShowThumbnail=!0,c.thumbnailSize="sm",void 0!==t.label?c.label=t.label:void 0!==t.title&&(c.label=t.title),void 0!==t.thumbnail&&(c.thumbnail=t.thumbnail),r&&(c.to={pathname:l+(0,o.addLeadingSlash)(r.pathname(t)),state:{item:t}}),c},y=e=>{let{children:t,label:a,...l}=e;return s().createElement("li",{style:{paddingBottom:20}},s().createElement(H,(0,n.Z)({title:a,className:"fl-asst-search-results-card"},l),t))},b=e=>{let{isLoading:t=!1,items:a,keyword:n,baseURL:l}=e;if(t)return s().createElement(c.List.Loading,null);const{config:r}=E({keyword:n});return s().createElement(c.Layout.Box,{padY:!1},s().createElement(c.List,{items:a,getSectionProps:(e,t)=>(e=>{let{section:t,defaultProps:a,keyword:n,baseURL:l}=e;const{configKey:r}=t;let o={...a};return t.items.length>=5&&(o.actions=s().createElement(c.Button,{appearance:"transparent",to:{pathname:`${l}/all`,state:{keyword:n,configKey:r}}},(0,i.__)("View All"))),o})({section:e,defaultProps:t,keyword:n,baseURL:l}),getItemProps:(e,t)=>f({item:e,defaultProps:t,config:r,baseURL:l}),getItemComponent:(e,t,a)=>t?y:a}),s().createElement(c.Layout.Row,{padY:!0},s().createElement(c.Icon.Pencil,{size:45})))};var v=a(7820),C=a.n(v);const k=e=>{let{tag:t="div",className:a,children:r,scrollBy:o=360,disabled:i=!1,...m}=e;const d=(0,l.useRef)(null),u=C()("fl-asst-swiper",{"is-disabled":!0===i},a);(0,l.useEffect)((()=>{if(d.current){const e=d.current,t=e=>{const{scrollLeft:t,scrollWidth:a,clientWidth:n,parentNode:l}=e,s=l.classList;0===t?(s.add("scroll-start"),s.remove("scroll-end")):a===t+n?(s.remove("scroll-start"),s.add("scroll-end")):(s.contains("scroll-start")&&s.remove("scroll-start"),s.contains("scroll-end")&&s.remove("scroll-end"))};t(e);const a=e=>t(e.target);return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}}),[]);const p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(d.current){const t=d.current,a=e?t.scrollLeft-o:t.scrollLeft+o;t.scrollTo({left:a,behavior:"smooth"})}};return s().createElement(t,(0,n.Z)({className:u},m),s().createElement("div",{className:"fl-asst-swiper-scroller",ref:d},r),!i&&s().createElement("div",{className:"fl-asst-swiper-nav"},s().createElement(c.Button,{appearance:"transparent",icon:s().createElement(c.Icon.CaretLeft,null),onClick:()=>p(!0)}),s().createElement(c.Button,{appearance:"transparent",icon:s().createElement(c.Icon.CaretRight,null),onClick:()=>p(!1)})))},w=e=>{let{title:t,showCaret:a=!1,isExpanded:l=!0,toggleExpanded:r=(()=>{}),actions:o,...i}=e;return s().createElement("div",(0,n.Z)({className:"fl-asst-feature-section-header"},i),s().createElement("div",{className:"gutter-space"},a&&s().createElement(c.Button,{onClick:r,icon:l?s().createElement(c.Icon.CaretDown,null):s().createElement(c.Icon.CaretRight,null),appearance:"transparent",size:"sm",shape:"round"})),s().createElement("div",{className:"title-text"},t),o&&s().createElement("div",{className:"header-actions"},o))},S=e=>{let{tag:t="div",headerComponent:a=w,title:r,className:c,children:o,padContent:i=!0,canCollapse:m=!0,isCollapsed:d=!1,showHeader:u=!0,headerActions:p,description:h,footer:g,onToggle:E=(()=>{}),...f}=e;const[y,b]=(0,l.useState)(!d);(0,l.useEffect)((()=>{y===d&&b(!d)}),[d]);const v=C()("fl-asst-feature-section",{"pad-content":i},c);return s().createElement(t,(0,n.Z)({className:v},f),u&&s().createElement(a,{title:r,showCaret:m,isExpanded:y,toggleExpanded:()=>{if(m){const e=!y;b(e),E(e)}},actions:p}),y&&s().createElement(s().Fragment,null,h&&s().createElement("div",{className:"section-description"},h),s().createElement("div",{className:"section-content"},o),g&&s().createElement("div",{className:"section-footer"},g)))},N=e=>{let{isCollapsed:t,...a}=e;const{recentPostsQuery:l}=(0,m.useAppState)("fl-home"),{setRecentPostsQuery:r}=(0,m.getAppActions)("fl-home"),{contentTypes:o}=(0,m.getSystemConfig)(),d=o[l.post_type];let u="Posts";void 0!==d&&(u=d.labels.plural);const p=()=>s().createElement("select",{value:l.post_type,onChange:e=>{r({...l,post_type:e.target.value})}},Object.entries(o).map((e=>{let[t,a]=e;return s().createElement("option",{key:t,value:t},a.labels.plural)})));return s().createElement(S,(0,n.Z)({title:(0,i.sprintf)("Recent %s",u),className:"recent-posts-feature-section",padContent:!1,headerActions:!t&&s().createElement(p,null),isCollapsed:t},a),s().createElement(c.List.Posts,{endcap:!1,query:l,getItemProps:(e,t)=>e.id?{...t,description:null,marks:[],to:{pathname:`/fl-content/post/${e.id}`,state:{item:e}}}:t}))},_=e=>{let{children:t,...a}=e;return s().createElement(c.Button,(0,n.Z)({appearance:"transparent"},a),t,s().createElement(c.Icon.ArrowRight,{style:{marginLeft:8}}))},L=e=>{let{headline:t,subtext:a,footer:l,...r}=e;return s().createElement("div",(0,n.Z)({className:"fl-asst-swiper-item"},r),s().createElement("div",{className:"card-content"},t&&s().createElement(c.Text.Title,null,t),a&&s().createElement("p",null,a)),l&&s().createElement("div",{className:"card-bottom-toolbar"},l))},A=e=>{let{...t}=e;const{pluginURL:a}=(0,m.getSystemConfig)(),l=`${a}/img/apps/fl-home/`;return s().createElement(S,(0,n.Z)({className:"fl-asst-apps-feature-section",title:(0,i.__)("Get Started with Apps"),description:(0,i.__)("Assistant apps give you quick access to some of your most frequent tasks."),padContent:!1},t),s().createElement(k,null,s().createElement(L,{headline:s().createElement("div",null,"Share ",s().createElement("strong",null,"Assets")," across all your WordPress sites"),subtext:(0,i.__)("Get access to all your templates & assets on all your sites with Assistant Pro."),style:{"--card-bg":"var(--fl-brand-light-blue)","--card-color":"#125F77",backgroundImage:`url(${l}libraries-card.png)`},footer:s().createElement(_,{to:"/libraries"},(0,i.__)("Go To Libraries App"))}),s().createElement(L,{headline:s().createElement("div",null,"Find ",s().createElement("strong",null,"Content")," Fast"),subtext:(0,i.__)("The content app lets you find posts, pages and more with lightning speed."),style:{"--card-bg":"var(--fl-brand-dark-blue)",backgroundImage:`url(${l}content-card.png)`},footer:s().createElement(_,{to:"/fl-content"},(0,i.__)("Go To Content App"))}),s().createElement(L,{headline:s().createElement("div",null,s().createElement("strong",null,"Media")," At Your Fingertips"),subtext:(0,i.__)("The media app lets you quickly upload and find attachment info no matter where you are."),style:{"--card-bg":"var(--fl-brand-red)",backgroundImage:`url(${l}media-card.png)`},footer:s().createElement(_,{to:"/fl-media"},(0,i.__)("Go To Media App"))})))};var R=a(1871);const I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=[];if(t>e.length){const n=t-e.length;a=Array(n).fill(null,0,n)}return[...e,...a]},P=e=>{let{items:t=[],type:a="image",types:n=[],setType:l=(()=>{})}=e;const{counts:r}=(0,m.useSystemState)("counts"),o=["image","video"],d=C()("media-section-grid",{[`media-grid-type-${a}`]:a});return s().createElement("div",{className:d},s().createElement("ul",{className:"media-grid-nav"},n.map((e=>{let[t,n]=e;if(!o.includes(t))return null;let c=0;return void 0!==r[`attachment/${t}`]&&(c=r[`attachment/${t}`]),s().createElement("li",{key:t},s().createElement("button",{className:C()({"is-selected":a===t}),onClick:()=>l(t)},s().createElement("span",{className:"media-grid-type-label"},n),s().createElement("span",{className:"media-grid-type-count"},c)))}))),t.map(((e,t)=>{if(null===e)return s().createElement("div",{key:t});if(e instanceof File)return s().createElement("div",{key:t,src:URL.createObjectURL(e),alt:(0,i.sprintf)("Uploading %s",e.name),style:{paddingTop:0,filter:"contrast(0.5) brightness(80%)",backgroundImage:`url( ${URL.createObjectURL(e)} )`,backgroundSize:"cover",color:"white"}},s().createElement(c.Icon.Loading,null));const{type:a,subtype:n,thumbnail:l}=e,r=C()("media-grid-item",{[`media-grid-item-type-${a}`]:a});return s().createElement(c.Button,{key:t,className:r,to:{pathname:`/fl-media/attachment/${e.id}`,state:{item:e}},style:{borderRadius:0,backgroundImage:`url( ${l} )`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}},"audio"===a&&s().createElement(c.Icon.Audio,null),"video"===a&&s().createElement("video",{src:e.url},s().createElement("source",{type:`video/${n}`,src:e.url})))})))},B=()=>s().createElement("div",{className:"media-hover-display"},(0,i.__)("You can just drop that anywhere")),U=e=>{let{...t}=e;const{attachmentTypes:a}=(0,m.getSystemConfig)(),{attachments:r}=(0,R.getWpRest)(),[o,d]=(0,l.useState)(!0),[u,p]=(0,l.useState)([]),[h,g]=(0,l.useState)("image"),{files:E=[],current:f}=c.Media.useMediaUploads(),y={post_mime_type:h,posts_per_page:36};(0,l.useEffect)((()=>{p([]),r().findWhere(y).then((e=>{let{data:t}=e;t.items&&(p([...t.items]),d(!1))}))}),[h,f]);const b=()=>s().createElement(c.Button,{to:"/fl-media",appearance:"transparent"},(0,i.__)("Media App"));return s().createElement(S,(0,n.Z)({title:(0,i.__)("Media"),headerActions:s().createElement(b,null),padContent:!1},t),s().createElement(c.Media.Uploader,{draggingView:s().createElement(B,null)},s().createElement(k,{disabled:o},s().createElement(P,{items:I([...E,...u]),type:h,types:Object.entries(a),setType:g}))))};var T=a(3882);const $=()=>{const{currentPageView:e}=(0,m.getSystemConfig)(),{id:t,intro:a,name:r,actions:o,isSingular:d,isAttachment:u}=e,p=(()=>{const e=(0,R.getWpRest)(),{currentPageView:t}=(0,m.getSystemConfig)(),{id:a,isSingular:n,isAttachment:s}=t,[r,c]=(0,l.useState)(null);return(0,l.useLayoutEffect)((()=>{s?e.attachments().findById(a).then((e=>{c(e.data)})):n&&e.posts().findById(a).then((e=>{c(e.data)}))}),[]),r})(),h=c.Env.use();let g=[...o];if(d){let e=`/fl-content/post/${t}`;u&&(e=`/fl-media/attachment/${t}`),g.push({handle:"detail",label:(0,i.__)("Edit Details"),to:{pathname:e,state:{item:p}}})}return g=(0,T.applyFilters)("fl-asst.currently-viewing-actions",g,{currentPageView:e,item:p,env:h}),s().createElement("div",{className:"fl-asst-swiper-item home-currently-viewing"},s().createElement("div",{style:{marginBottom:10}},s().createElement("div",{className:"home-currently-viewing-eyebrow"},s().createElement(F,null),a),s().createElement("div",{className:"home-currently-viewing-title"},r)),s().createElement("div",{className:"home-currently-viewing-actions"},g.map(((e,t)=>{let{handle:a="",label:l,isEnabled:r=!0,...o}=e;if(!r)return null;const i={key:t,title:l,shape:"round",size:"lg",...o};switch(a){case"edit":return s().createElement(c.Button,i,s().createElement(c.Icon.Edit,null));case"detail":return s().createElement(c.Button,(0,n.Z)({},i,{disabled:null===p}),null===p?s().createElement(c.Icon.Loading,null):s().createElement(c.Icon.ArrowRight,null));default:return s().createElement(c.Button,i,l)}}))))},Z=()=>{const{counts:e}=(0,m.useSystemState)(),t=(0,m.getSystemConfig)(),a=[{label:t.contentTypes.post.labels.plural,count:e["content/post"]?e["content/post"]:0},{label:(0,i.__)("Comments"),count:e["comment/total"]?e["comment/total"]:0},{label:t.contentTypes.page.labels.plural,count:e["content/page"]?e["content/page"]:0},{label:(0,i.__)("Updates"),count:e["update/total"]?e["update/total"]:0}];return s().createElement("div",{className:"fl-asst-swiper-item home-stat-card"},a.map(((e,t)=>{let{count:a,label:n}=e;return s().createElement("div",{className:"home-stat-count",key:t},s().createElement("div",{className:"home-stat-total"},a),s().createElement("div",{className:"home-stat-label"},n))})))},x=()=>{const{currentPageView:e,adminURLs:t}=(0,m.getSystemConfig)(),{name:a,screenshot:n,team:l,version:r}=e.theme;return void 0===t.switchThemes?null:s().createElement("a",{href:t.switchThemes,className:"fl-asst-swiper-item home-theme-card",target:"_blank",rel:"noreferrer"},s().createElement("div",{className:"theme-card-title"},(0,i.__)("Active Theme")),s().createElement("div",{className:"theme-details"},s().createElement("div",{className:"theme-thumbnail"},s().createElement(c.Layout.AspectBox,{ratio:"4:3",style:{background:`url(${n})`,backgroundSize:"cover"}})),s().createElement("div",{className:"theme-meta"},s().createElement("div",{className:"theme-title"},a),s().createElement("div",null,"Version: ",r),s().createElement("div",null,"Author: ",l))))},F=e=>{let{size:t=20,...a}=e;return s().createElement("svg",(0,n.Z)({width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),s().createElement("path",{d:"M10.0078 15.6562C10.3672 15.6562 10.8984 14.3125 10.8984 12.3672V7.44531C12.2578 7.0625 13.2344 5.80469 13.2344 4.33594C13.2344 2.54688 11.8047 1.09375 10.0078 1.09375C8.21094 1.09375 6.77344 2.54688 6.77344 4.33594C6.77344 5.80469 7.75781 7.05469 9.10156 7.44531V12.3672C9.10156 14.3047 9.64062 15.6562 10.0078 15.6562ZM9.09375 4.52344C8.50781 4.52344 7.99219 4 7.99219 3.40625C7.99219 2.80469 8.50781 2.30469 9.09375 2.30469C9.70312 2.30469 10.1953 2.80469 10.1953 3.40625C10.1953 4 9.70312 4.52344 9.09375 4.52344ZM10 18.9062C15.1719 18.9062 18.3516 17.2031 18.3516 15.1172C18.3516 12.9844 15.1719 11.5625 12.2734 11.3828V12.9766C14.2031 13.1016 16.4062 13.8906 16.4062 14.9922C16.4062 16.3359 13.7188 17.25 10 17.25C6.27344 17.25 3.58594 16.3438 3.58594 14.9922C3.58594 13.8906 5.79688 13.1016 7.71875 12.9766V11.3828C4.82812 11.5625 1.64844 12.9844 1.64844 15.1172C1.64844 17.2031 4.82812 18.9062 10 18.9062Z",fill:"currentColor"}))},W=e=>{let{...t}=e;return s().createElement(S,(0,n.Z)({title:(0,i.__)("At A Glance"),className:"home-stats-section",padContent:!1},t),s().createElement(k,null,s().createElement($,null),s().createElement(Z,null),s().createElement(x,null)))},M=e=>{let{...t}=e;const{pluginURL:a}=(0,m.getSystemConfig)(),l=`${a}/img/apps/fl-home/asst-pro-community-hero.jpg`,r={community:(0,i.__)("Search Community"),libraries:(0,i.__)("My Libraries")};return s().createElement(S,(0,n.Z)({className:"home-pro-community-section",padContent:!1,canCollapse:!1,showHeader:!1},t),s().createElement("div",{style:{display:"flex",flexDirection:"column",height:276,backgroundColor:"#E7F9F9",backgroundImage:`url(${l})`,backgroundSize:"436px",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},s().createElement("p",null,(0,i.__)("Discover templates and assets to make your website great with Assistant Pro Community!"))),s().createElement(c.Button.Group,{appearance:"buttons",style:{margin:10,justifyContent:"center",gap:5}},Object.entries(r).map((e=>{let[t,a]=e;return s().createElement(c.Button,{to:`/${t}`,appearance:"pillbox"},a)}))))},D=()=>{const{currentUser:e}=(0,m.getSystemConfig)();return(0,i.sprintf)("Welcome, %s",e.displayName)},O=()=>{const{collapsedSections:e}=(0,m.useAppState)("fl-home"),{setCollapsedSections:t}=(0,m.getAppActions)("fl-home");return[{handle:"community",render:M},{handle:"stats",render:e=>s().createElement(W,(0,n.Z)({title:s().createElement(D,null)},e))},{handle:"media",render:U},{handle:"apps",render:A},{handle:"posts",render:N}].map((a=>{let{handle:n,render:l,isHidden:r=!1}=a;return r?null:s().createElement(l,{key:n,isCollapsed:e.includes(n),onToggle:a=>{!1!==a||e.includes(n)||t([...e,n]),!0===a&&e.includes(n)&&t([...e.filter((e=>e!==n))])}})}))},j=e=>{let{baseURL:t}=e;const{keyword:a,setKeyword:n,results:l,clearResults:r,isLoading:c}=G();return s().createElement("div",{id:"cards"},s().createElement(g,{keyword:a,onClear:()=>{n(""),r()},onInput:e=>n(e),onSuggestionClick:e=>n(e)}),""!==a&&s().createElement(b,{items:l,isLoading:c,keyword:a,baseURL:t}),""===a&&s().createElement(s().Fragment,null,!1,s().createElement(O,null),!1))};var z=a(9669);const K=e=>{let{baseURL:t}=e;const[a,n]=(0,l.useState)([]),{keyword:o,configKey:m}=(0,r.useLocation)().state,{config:d,routes:u}=E({keyword:o,number:20,offset:a.length}),{label:p,format:h}=d[m],g=u[m],y=(0,R.getWpRest)(),b=z.CancelToken.source();(0,l.useEffect)((()=>()=>b.cancel()),[]);return s().createElement(c.Page,{title:""===o?p:(0,i.sprintf)((0,i.__)('%s matching "%s"'),p,o),padX:!1},s().createElement(c.List.Scroller,{items:a,getItemProps:(e,a)=>f({item:e,defaultProps:a,config:d,baseURL:t}),loadItems:e=>{y.search(o,[g],{cancelToken:b.token}).then((t=>{n(a.concat(h(t.data[0].items).map((e=>({...e,configKey:m}))))),e(t.data.has_more)})).catch((e=>{(0,z.isCancel)(e)||console.log(e)}))}}))};var V=a(8325);const H=e=>{let{tag:t=V.motion.div,className:a,children:l,title:r,eyebrow:c,subtitle:o,thumb:i,actions:m,padX:d=!1,contentProps:u={},footer:p,footerProps:h={},...g}=e;const{className:E,...f}=h,y=C()("fl-asst-card-footer",E),{className:b,...v}=u;return s().createElement(t,(0,n.Z)({className:C()({"fl-asst-card":!0,"fl-asst-card-pad-x":d},a),layout:!0},g),s().createElement("div",{className:"fl-asst-card-header"},i&&s().createElement("div",{className:"fl-asst-card-thumbnail"},i),(r||c||o)&&s().createElement("div",{className:"fl-asst-card-title-area"},c&&s().createElement("div",{className:"fl-asst-card-eyebrow"},c),r&&s().createElement("div",{className:"fl-asst-card-title"},r),o&&s().createElement("div",{className:"fl-asst-card-subtitle"},o)),m&&s().createElement("div",{className:"fl-asst-card-actions"},m)),l&&s().createElement("div",(0,n.Z)({className:C()("fl-asst-card-content",b)},v),l),p&&s().createElement("div",(0,n.Z)({className:y},f),p))},G=()=>{const{keyword:e=""}=(0,m.useAppState)("fl-home"),{setKeyword:t}=(0,m.getAppActions)("fl-home"),[a,n]=(0,l.useState)(!1),[s,r]=(0,l.useState)(null),{setSearchHistory:c}=(0,m.getSystemActions)(),o=(0,R.getWpRest)();let i=z.CancelToken.source();const{config:d,routes:u}=E({keyword:e});return(0,l.useEffect)((()=>(i.cancel(),i=z.CancelToken.source(),""!==e&&(n(!0),r(null),o.search(e,u,{cancelToken:i.token}).then((t=>{const a=[];t.data.map(((e,t)=>{const{label:n,format:l}=d[t];e.items&&e.items.length&&a.push({label:n,configKey:t,items:l(e.items).map((e=>({...e,configKey:t})))})})),a.length&&""!==e&&c(e),r(a),n(!1)})).catch((e=>{(0,z.isCancel)(e)||console.log(e)}))),()=>i.cancel())),[e]),{results:s,clearResults:()=>r(null),isLoading:a,keyword:e,setKeyword:t}};var q=a(5381);a.p=`${FL_ASSISTANT_CONFIG.pluginURL}/build/`;const Y=()=>s().createElement(s().Fragment,null,s().createElement(c.Icon.PencilOutline,{style:{marginRight:13}}),(0,i.__)("Assistant")),Q=e=>{let{title:t,className:a,children:l,...r}=e;const c=C()("fl-asst-home-shell-sidebar-section",a);return s().createElement("div",(0,n.Z)({className:c},r),t&&s().createElement("div",{className:"fl-asst-home-shell-sidebar-section-title"},t),s().createElement("div",null,l))},X=e=>{let{baseURL:t=""}=e;return s().createElement(Q,null,s().createElement("ul",null,s().createElement("li",null,s().createElement(c.Button,{to:`${t}/`,appearance:"transparent",icon:s().createElement(c.Icon.Dashboard,null),isSelected:!0},(0,i.__)("Dashboard","fl-assistant")))))},J=()=>{const e=(0,r.useHistory)();return s().createElement(Q,{title:(0,i.__)("Apps","fl-assistant")},s().createElement(c.App.List,null,(t=>{let{label:a,handle:n,icon:l,moveDown:r,moveUp:o}=t;const i={pathname:`/${n}`},m={icon:l,context:"sidebar"};return s().createElement(c.Button,{appearance:"transparent",title:a,icon:s().createElement(c.Icon.Safely,m),onClick:()=>{e.push(i)},onKeyDown:e=>{e.keyCode===q.DOWN&&(r(),e.preventDefault()),e.keyCode===q.UP&&(o(),e.preventDefault())}},a)})))},ee=()=>{const{adminURLs:e}=(0,m.getSystemConfig)(),t=[{label:(0,i.__)("WordPress Admin","fl-assistant"),href:e.dashboard,icon:c.Icon.WordPress}];return 1>t.length?null:s().createElement(Q,{title:"Shortcuts",className:"fl-asst-home-shortcut-list"},s().createElement("ul",null,t.map((e=>{let{label:t,href:a,icon:n=c.Icon.Placeholder}=e;return s().createElement("li",{key:a},s().createElement(c.Button,{href:a,target:"_blank",appearance:"transparent",icon:s().createElement(n,null)},t))}))))},te=e=>{let{className:t,children:a,baseURL:l,...r}=e;const c=C()("fluid-page","fl-asst-home-shell",t);return s().createElement("div",(0,n.Z)({className:c},r),s().createElement("nav",{className:"fl-asst-home-shell-sidebar"},s().createElement("div",{style:{fontSize:18,minHeight:80,display:"flex",alignItems:"center",padding:20,paddingLeft:25}},s().createElement(Y,null)),s().createElement(X,{baseURL:l}),s().createElement(J,null),s().createElement(ee,null)),s().createElement("div",{className:"fl-asst-home-shell-content"},a))},ae=e=>{const{config:t}=E(),{baseURL:a}=e;return s().createElement(te,{baseURL:a},s().createElement(c.App.Config,(0,n.Z)({pages:{default:j,all:K}},e),t.map(((e,t)=>{let{detail:n}=e;if(n)return s().createElement(r.Route,{key:t,path:a+(0,o.addLeadingSlash)(n.path),component:n.component})})),t.map(((e,t)=>{let{detail:n}=e;if(n)return s().createElement(r.Route,{key:t,path:`${a}/all`+(0,o.addLeadingSlash)(n.path),component:n.component})}))))}}}]);