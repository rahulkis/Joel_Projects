"use strict";(self.webpackChunkfl_assistant=self.webpackChunkfl_assistant||[]).push([[272],{8420:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var a=l(7462),n=l(7363),r=l.n(n),i=l(8003),s=l(2974),o=l(4533),c=l(9818),u=l(9344);const m=e=>{let{onInput:t=(()=>{}),onDismiss:l=(()=>{}),...n}=e;return r().createElement("div",{className:"fl-asst-upload-card-wrapper"},r().createElement("div",(0,a.Z)({className:"fl-asst-upload-card"},n),r().createElement("span",{className:"close-action"},r().createElement(o.Button,{icon:r().createElement(o.Icon.CloseCompact,null),appearance:"transparent",shape:"round",onClick:l})),r().createElement("p",{style:{textAlign:"center"}},(0,i.__)("Drop or Select files to upload to the media library.")),r().createElement("label",{htmlFor:"media-upload"},r().createElement("input",{type:"file",name:"media-upload",id:"media-upload",multiple:!0,accept:"image/jpg,image/gif,image/png,image/svg+xml",onInput:e=>t(e.target.files)}),r().createElement(o.Icon.PlusSmall,{style:{marginLeft:10}}),(0,i.__)("Choose Files"))))},d=e=>{let{files:t=[],current:l}=e;return l>t.length?null:r().createElement(r().Fragment,null,r().createElement("ul",{className:"fl-asst-file-list"},t.map(((e,t)=>t+1<l?null:r().createElement("li",{key:e.name},r().createElement("img",{style:{width:36,height:36,marginRight:10},src:URL.createObjectURL(e)}),e.name,r().createElement(o.Icon.Loading,{style:{marginLeft:"auto"}}))))))};var p=l(8955);const g=e=>r().createElement(o.App.Config,(0,a.Z)({pages:{default:f,"attachment/:id":()=>r().createElement(o.Page.Attachment,{CloudUI:s})}},e)),f=e=>{let{baseURL:t}=e;const{listStyle:l,query:a,showUploader:n}=(0,c.useAppState)("fl-media"),{setListStyle:s,setQuery:g,setShowUploader:f}=(0,c.getAppActions)("fl-media"),{attachmentTypes:_}=(0,c.getSystemConfig)(),{files:E,uploadFiles:y,current:h}=o.Media.useMediaUploads(),b=()=>{const e={ID:(0,i.__)("ID"),date:(0,i.__)("Date Uploaded"),modified:(0,i.__)("Last Modified")},t={"":(0,i.__)("List"),grid:(0,i.__)("Grid")},n={ASC:(0,i.__)("Ascending"),DESC:(0,i.__)("Descending")};return r().createElement(o.Filter,null,r().createElement(o.Filter.RadioGroupItem,{title:(0,i.__)("Type"),items:_,value:a.post_mime_type,defaultValue:"",onChange:e=>g({...a,post_mime_type:e})}),r().createElement(o.Filter.RadioGroupItem,{title:(0,i.__)("Display As"),items:t,value:l,defaultValue:u.W.listStyle,onChange:e=>s(e)}),r().createElement(o.Filter.LabelsItem,{value:a.label,defaultValue:u.W.query.label,onChange:e=>g({...a,label:e})}),r().createElement(o.Filter.RadioGroupItem,{title:(0,i.__)("Sort By"),items:e,value:a.orderby,defaultValue:u.W.query.orderby,onChange:e=>g({...a,orderby:e})}),r().createElement(o.Filter.RadioGroupItem,{title:(0,i.__)("Order"),items:n,value:a.order,defaultValue:u.W.query.order,onChange:e=>g({...a,order:e})}),r().createElement(o.Filter.Button,{onClick:()=>{g(u.W.query),s(u.W.listStyle)}},(0,i.__)("Reset Filter")))},C=()=>r().createElement(o.Button,{isSelected:n,shape:"round",icon:r().createElement(o.Icon.Plus,null),onClick:()=>f(!n)}),S=()=>r().createElement(r().Fragment,null,n&&r().createElement(m,{onInput:y,onDismiss:()=>f(!1)}),0<E.length&&r().createElement(d,{files:E,current:h})),I=()=>r().createElement(b,null);return r().createElement(o.Page,{id:"fl-asst-media-list-page",title:(0,i.__)("Media"),icon:r().createElement(p.Z,null),shouldShowBackButton:!1,padX:!1,padY:!1,shouldScroll:!1,onLoad:()=>{const e=document.querySelector(".fluid-page-content .fluid-button");e&&e.focus()},actions:r().createElement(C,null),header:r().createElement(I,null)},r().createElement(o.List.Attachments,{before:r().createElement(S,null),key:l+h,baseURL:t,query:{...a,posts_per_page:36},listStyle:l}))}},7462:(e,t,l)=>{function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},a.apply(this,arguments)}l.d(t,{Z:()=>a})}}]);